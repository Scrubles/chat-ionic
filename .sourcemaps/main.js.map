{"version":3,"sources":["../../src/providers/base.ts","../../src/pages/signin/signin.ts","../../src/pages/home/home.ts","../../src/providers/chat/chat.ts","../../src/models/user.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/chat/chat.ts","../../src/providers/auth/auth.ts","../../src/providers/message/message.ts","../../src/models/message.ts","../../src/pages/signup/signup.ts","../../src/components/base.ts","../../src/pages/user-profile/user-profile.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/user/user.ts","../../src/models/chat.ts","../../src/components/custom-logged-header/custom-logged-header.ts","../../src/components/message-box/message-box.ts","../../src/components/user-info/user-info.ts","../../src/components/user-menu/user-menu.ts","../../src/components/progress-bar/progress-bar.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Response } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nconst extractError = (error: Response | any): string => {\n  let errMsg: string;\n  if (error instanceof Response) {\n    const body = error.json() || '';\n    const err = body.error || JSON.stringify(body);\n    errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n  } else {\n    errMsg = error.message ? error.message : error.toString();\n  }\n  console.error(errMsg);\n  return errMsg;\n}\n\nexport abstract class BaseProvider {\n\n  protected handlePromiseError(error: Response | any): Promise<any> {\n    return Promise.reject(extractError(error));\n  }\n\n  protected handleObservableError(error: Response | any): Observable<any> {\n    return Observable.throw(extractError(error));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/base.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertController, Loading, LoadingController, NavController, NavParams } from 'ionic-angular';\n\nimport { HomePage } from './../home/home';\nimport { SignUpPage } from './../signup/signup';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { UserProvider } from './../../providers/user/user';\n\n@Component({\n  selector: 'page-signin',\n  templateUrl: 'signin.html',\n})\nexport class SignInPage {\n\n  loading: Loading;\n  signInForm: FormGroup;\n\n  constructor(\n    public formBuilder: FormBuilder,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public userProvider: UserProvider, \n    public authProvider: AuthProvider) {\n      \n    const emailRegex = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n    this.signInForm = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.required, Validators.pattern(emailRegex)])],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  \n  onSubmit(): void {\n    this.loading = this.loadingCtrl.create({\n      content: 'Checking credentials...'\n    });\n    this.loading.present();\n    const userCredentials = this.signInForm.value;\n    this.authProvider.signIn(userCredentials).then((isLoggedIn: boolean) => {\n      if(isLoggedIn)\n        this.navCtrl.setRoot(HomePage);\n      else\n        this.showAlertMsg('There was an error signin in');\n      this.loading.dismiss();\n    }).catch((error) => {\n      this.showAlertMsg(error);\n      this.loading.dismiss();\n    });\n  }\n\n  onSignUp(): void {\n    this.navCtrl.push(SignUpPage);\n  }\n  \n  private showAlertMsg(message): void {\n    this.alertCtrl.create({\n      message: message,\n      buttons: ['Ok']\n    }).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts","import { Component } from '@angular/core';\nimport { NavController, MenuController } from 'ionic-angular';\nimport { FirebaseListObservable } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\n\nimport { ChatPage } from './../chat/chat';\nimport { UserProvider } from './../../providers/user/user';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { ChatProvider } from './../../providers/chat/chat';\nimport { User } from './../../models/user';\nimport { Chat } from './../../models/chat';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  view: string = 'chats';\n  users: FirebaseListObservable<User[]>;\n  chats: FirebaseListObservable<Chat[]>;\n\n  constructor(\n    public navCtrl: NavController,\n    public userProvider: UserProvider, \n    public menuCtrl: MenuController,\n    public authProvider: AuthProvider,\n    public chatProvider: ChatProvider) {\n\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authProvider.authenticated;\n  }\n\n  ionViewWillLoad() {\n    this.users = this.userProvider.users;\n    this.chats = this.chatProvider.chats;\n    this.menuCtrl.enable(true, 'user-menu');\n  }\n\n  filterItems(event: any): void {\n    let searchTerm: string = event.target.value;\n    this.users = this.userProvider.users;\n    this.chats = this.chatProvider.chats;\n    if(searchTerm) {\n      searchTerm = searchTerm.toLowerCase();\n      switch(this.view) {\n        case 'chats':\n          this.chats = <FirebaseListObservable<Chat[]>> this.chats.map((chats: Chat[]) => {\n            return chats.filter((chat: Chat) => {\n              return chat.title.toLowerCase().indexOf(searchTerm) != -1;\n            });\n          });\n          break;\n        case 'users':\n          this.users = <FirebaseListObservable<User[]>> this.users.map((users: User[]) => {\n            return users.filter((user: User) => {\n              return user.name.toLowerCase().indexOf(searchTerm) != -1;\n            });\n          });\n          break;\n      }\n    }\n  }\n\n  chatWith(user: User): void {\n    this.userProvider.currentUser.first().subscribe((currentUser: User) => {\n      this.chatProvider.getDeepChat(currentUser.$key, user.$key).first().subscribe((chat: Chat) => {\n        if (chat.hasOwnProperty('$value')) {\n          let timestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n          this.chatProvider.create(new Chat('', timestamp, user.name, ''),\n            currentUser.$key, user.$key);\n          this.chatProvider.create(new Chat('', timestamp, currentUser.name, ''),\n            user.$key, currentUser.$key);\n        }\n      });\n    });\n    this.navCtrl.push(ChatPage, {\n      recipientUser: user\n    });\n  }\n\n  open(chat: Chat): void {\n    let recipientUserId: string = chat.$key;\n    this.userProvider.get(recipientUserId).first().subscribe((user: User) => {\n      this.navCtrl.push(ChatPage, {\n        recipientUser: user\n      });\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\n\nimport { BaseProvider } from \"../base\";\nimport { AuthProvider } from './../auth/auth';\nimport { Chat } from './../../models/chat';\n\n@Injectable()\nexport class ChatProvider extends BaseProvider {\n\n  chats: FirebaseListObservable<Chat[]>;\n\n  constructor(public http: Http, public db: AngularFireDatabase,\n    public authProvider: AuthProvider) {\n    super();\n    this.setChats();\n  }\n\n  private setChats(): void {\n    this.authProvider.user.subscribe((auth) => {\n      if (auth) {\n        this.chats = <FirebaseListObservable<Chat[]>> this.db.list(`/chats/${auth.uid}`, {\n          query: {\n            orderByChild: 'timestamp'\n          }\n        }).map((chats: Chat[]) => {\n          return chats.reverse();\n        }).catch(this.handleObservableError);\n      }\n    });\n  }\n\n  create(chat: Chat, userId1: string, userId2: string): firebase.Promise<void> {\n    return this.db.object(`/chats/${userId1}/${userId2}`).set(chat).catch(this.handlePromiseError);\n  }\n\n  getDeepChat(userId1: string, userId2: string): FirebaseObjectObservable<Chat> {\n    return <FirebaseObjectObservable<Chat>> this.db.object(`/chats/${userId1}/${userId2}`).catch(this.handleObservableError);\n  }\n\n  updatePhoto(chat: FirebaseObjectObservable<Chat>, chatPhoto: string, recipientUserPhoto: string): firebase.Promise<void> {\n    if(chatPhoto != recipientUserPhoto)\n      return chat.update({\n        photo: recipientUserPhoto\n      }).catch(this.handlePromiseError);\n      \n    return Promise.resolve();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.ts","export class User {\r\n  \r\n  public $key: string\r\n\r\n  constructor(\r\n    public name: string,\r\n    public username: string,\r\n    public email: string, \r\n    public photo: string\r\n  ) {\r\n    \r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 194;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 194\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 237;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 237\n// module chunks = 0","import { Component, ViewChild } from '@angular/core';\nimport { Content, NavController, NavParams } from 'ionic-angular';\nimport { FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\n\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { UserProvider } from './../../providers/user/user';\nimport { ChatProvider } from './../../providers/chat/chat';\nimport { MessageProvider } from './../../providers/message/message';\nimport { User } from './../../models/user';\nimport { Chat } from './../../models/chat';\nimport { Message } from './../../models/message';\n\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n})\nexport class ChatPage {\n\n  @ViewChild(Content) content: Content;\n  messages: FirebaseListObservable<Message[]>;\n  pageTitle: string;\n  sender: User;\n  recipient: User;\n  private senderChat: FirebaseObjectObservable<Chat>;\n  private recipientChat: FirebaseObjectObservable<Chat>;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public authProvider: AuthProvider, public userProvider: UserProvider,\n    public chatProvider: ChatProvider, public messageProvider: MessageProvider) {\n\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authProvider.authenticated;\n  }\n\n  ionViewDidLoad() {\n    this.recipient = this.navParams.get('recipientUser');\n    this.pageTitle = this.recipient.name;\n    this.userProvider.currentUser.first().subscribe((currentUser: User) => {\n      this.sender = currentUser;\n      this.senderChat = this.chatProvider.getDeepChat(currentUser.$key, this.recipient.$key);\n      this.recipientChat = this.chatProvider.getDeepChat(this.recipient.$key, currentUser.$key);\n      if(this.recipient.photo)\n        this.senderChat.first().subscribe((chat: Chat) => {\n          this.chatProvider.updatePhoto(this.senderChat, chat.photo, this.recipient.photo);\n        });\n      this.messages = this.messageProvider.getMessages(currentUser.$key, this.recipient.$key);\n      this.messages.first().subscribe((messages: Message[]) => {\n        if (messages.length === 0)\n          this.messages = this.messageProvider.getMessages(this.recipient.$key, currentUser.$key);\n        this.messages.subscribe(() => {\n          this.scrollToBottom();\n        });\n      });\n    });\n  }\n\n  send(message) {\n    if (message) {\n      let timestamp: Object = firebase.database.ServerValue.TIMESTAMP;\n      this.messageProvider.create(new Message(this.sender.$key, message, timestamp),\n        this.messages).then(() => {\n          this.senderChat.update({\n            lastMessage: message,\n            timestamp: timestamp\n          });\n          this.recipientChat.update({\n            lastMessage: message,\n            timestamp: timestamp\n          });\n        });\n    }\n  }\n\n  private scrollToBottom(duration?: number): void {\n    if(this.content)\n      this.content.scrollToBottom(duration);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nimport { BaseProvider } from \"../base\";\n\n@Injectable()\nexport class AuthProvider extends BaseProvider {\n\n  user: Observable<firebase.User>;\n\n  constructor(public http: Http, public afAuth: AngularFireAuth) {\n    super();\n    this.user = afAuth.authState;\n  }\n\n  signUp(user: { email: string, password: string }): firebase.Promise<any> {\n    return this.afAuth.auth.createUserWithEmailAndPassword(user.email, user.password)\n      .catch(this.handlePromiseError);\n  }\n\n  signIn(user: { email: string, password: string }): firebase.Promise<boolean> {\n    return this.afAuth.auth.signInWithEmailAndPassword(user.email, user.password).then((response) => {\n      return response != null;\n    }).catch(this.handlePromiseError);\n  }\n\n  signOut(): firebase.Promise<void> {\n    return this.afAuth.auth.signOut().catch(this.handlePromiseError);\n  }\n\n  get authenticated(): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      this.user.subscribe((auth) => {\n        auth ? resolve(true) : reject(false);\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\n\nimport { BaseProvider } from \"../base\";\nimport { Message } from './../../models/message';\n\n@Injectable()\nexport class MessageProvider extends BaseProvider {\n\n  constructor(public http: Http, public db: AngularFireDatabase) {\n    super();\n  }\n\n  create(message: Message, messages: FirebaseListObservable<Message[]>): firebase.Promise<void> {\n    return messages.push(message).catch(this.handlePromiseError);\n  }\n\n  getMessages(userId1: string, userId2): FirebaseListObservable<Message[]> {\n    return <FirebaseListObservable<Message[]>> this.db.list(`/messages/${userId1}-${userId2}`, {\n      query: {\n        limitToLast: 5,\n        orderByChild: 'timestamp'\n      }\n    }).catch(this.handleObservableError);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/message/message.ts","export class Message {\r\n  \r\n  public $key: string\r\n  \r\n  constructor(\r\n    public userId: string,\r\n    public text: string,\r\n    public timestamp: any\r\n  ) {\r\n    \r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/message.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertController, Loading, LoadingController, NavController, NavParams } from 'ionic-angular';\n\nimport { HomePage } from './../home/home';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { UserProvider } from './../../providers/user/user';\n\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignUpPage {\n\n  loading: Loading;\n  signUpForm: FormGroup;\n\n  constructor(\n    public formBuilder: FormBuilder,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public userProvider: UserProvider,\n    public authProvider: AuthProvider) {\n\n    const emailRegex = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n    this.signUpForm = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.minLength(3)]],\n      username: ['', [Validators.required, Validators.minLength(3)]],\n      email: ['', Validators.compose([Validators.required, Validators.pattern(emailRegex)])],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onSubmit(): void {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loading.present();\n    const user = this.signUpForm.value;\n    this.userProvider.userExists(user.username).take(1).subscribe((userExists: boolean) => {\n      if (userExists) {\n        this.showAlertMsg(`The username ${user.username} is already in use`);\n        this.loading.dismiss();\n      } else\n        this.createUser(user);\n    });\n  }\n\n  private createUser(user): void {\n    this.authProvider.signUp(user).then((response) => {\n      delete user.password;\n      const uid: string = response.uid;\n      this.userProvider.create(user, uid).then(() => {\n        this.loading.dismiss();\n        this.navCtrl.setRoot(HomePage);\n      }).catch((error) => {\n        this.handleError(error);\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  }\n\n  private showAlertMsg(message): void {\n    this.alertCtrl.create({\n      message: message,\n      buttons: ['Ok']\n    }).present();\n  }\n\n  private handleError(error): void {\n    this.loading.dismiss();\n    this.showAlertMsg(error);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","// import { OnInit } from '@angular/core';\nimport { App, AlertController, MenuController, NavController } from 'ionic-angular';\n\nimport { SignInPage } from './../pages/signin/signin';\nimport { AuthProvider } from './../providers/auth/auth';\n\nexport class BaseComponent {\n\n  protected navCtrl: NavController;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authProvider: AuthProvider,\n    public app: App,\n    public menuCtrl: MenuController\n  ) {\n  \n  }\n\n  ngOnInit(): void {\n    this.navCtrl = this.app.getActiveNav();\n  }\n\n  onLogout(): void {\n    this.alertCtrl.create({\n      message: 'Are you sure you want to logout?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n            this.authProvider.signOut().then(() => {\n              this.navCtrl.setRoot(SignInPage);\n              this.menuCtrl.enable(false, 'user-menu');\n            })\n          }\n        },\n        {\n          text: 'No'\n        }\n      ]\n    }).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { User } from './../../models/user';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { UserProvider } from './../../providers/user/user';\n\n@Component({\n  selector: 'page-user-profile',\n  templateUrl: 'user-profile.html',\n})\nexport class UserProfilePage {\n\n  currentUser: User;\n  canEdit: boolean = false;\n  private filePhoto: File;\n  uploadProgress: number;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authProvider: AuthProvider,\n    public userProvider: UserProvider) {\n\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authProvider.authenticated;\n  }\n\n  ionViewDidLoad() {\n    this.userProvider.currentUser.subscribe((user: User) => {\n      this.currentUser = user;\n    });\n  }\n\n  onSubmit(event: Event): void {\n    event.preventDefault();\n    if(this.filePhoto) {\n      let uploadTask = this.userProvider.uploadPhoto(this.filePhoto, this.currentUser.$key);\n      uploadTask.on('state_changed', (snapshot: any) => {\n        this.uploadProgress = Math.round(snapshot.bytesTransferred*100 / snapshot.totalBytes);\n      }, (error: Error) => {\n        console.log(error);\n      }, () => {\n        this.editUser(uploadTask.snapshot.downloadURL);\n      })\n    }\n    else\n      this.editUser();\n  }\n\n  onChangePhoto(event: any): void {\n    this.filePhoto = event.target.files[0];\n  }\n\n  private editUser(photoUrl?: string): void {\n    this.userProvider.edit({\n      name: this.currentUser.name,\n      username: this.currentUser.username,\n      photo: photoUrl || this.currentUser.photo || ''\n    }).then(() => {\n      this.canEdit = false;\n      this.filePhoto = undefined;\n      this.uploadProgress = 0;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-profile/user-profile.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { AngularFireModule, FirebaseAppConfig } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nimport { MyApp } from './app.component';\nimport { CustomLoggedHeaderComponent } from '../components/custom-logged-header/custom-logged-header';\nimport { MessageBoxComponent } from './../components/message-box/message-box';\nimport { UserInfoComponent } from './../components/user-info/user-info';\nimport { UserMenuComponent } from './../components/user-menu/user-menu';\nimport { ProgressBarComponent } from './../components/progress-bar/progress-bar';\nimport { SignUpPage } from '../pages/signup/signup';\nimport { SignInPage } from '../pages/signin/signin';\nimport { HomePage } from '../pages/home/home';\nimport { UserProfilePage } from './../pages/user-profile/user-profile';\nimport { ChatPage } from './../pages/chat/chat';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { UserProvider } from '../providers/user/user';\nimport { ChatProvider } from '../providers/chat/chat';\nimport { MessageProvider } from '../providers/message/message';\n\nconst firebaseAppConfig: FirebaseAppConfig = {\n  apiKey: \"AIzaSyBQCOObcqGqBV7mcrUmJuHsemRxu-Su_Do\",\n  authDomain: \"ionic-chat-556a0.firebaseapp.com\",\n  databaseURL: \"https://ionic-chat-556a0.firebaseio.com\",\n  storageBucket: \"ionic-chat-556a0.appspot.com\",\n  messagingSenderId: \"194804743105\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    CustomLoggedHeaderComponent,\n    MessageBoxComponent,\n    UserInfoComponent,\n    UserMenuComponent,\n    ProgressBarComponent,\n    SignUpPage,\n    SignInPage,\n    HomePage,\n    UserProfilePage,\n    ChatPage\n  ],\n  imports: [\n    AngularFireModule.initializeApp(firebaseAppConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    SignUpPage,\n    SignInPage,\n    HomePage,\n    UserProfilePage,\n    ChatPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    AuthProvider,\n    UserProvider,\n    ChatProvider,\n    MessageProvider\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { SignInPage } from './../pages/signin/signin';\nimport { AuthProvider } from './../providers/auth/auth';\nimport { UserProvider } from './../providers/user/user';\nimport { User } from './../models/user';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  \n  rootPage:any = SignInPage;\n  currentUser: User;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen,\n    authProvider: AuthProvider, userProvider: UserProvider) {\n\n    authProvider.user.subscribe((auth) => {\n      if (auth) {\n        userProvider.currentUser.subscribe((user: User) => {\n          this.currentUser = user;\n        });\n      }\n    });\n\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Inject, Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { FirebaseApp } from 'angularfire2';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport \"firebase/storage\";\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nimport { User } from './../../models/user';\nimport { BaseProvider } from \"../base\";\nimport { AuthProvider } from './../auth/auth';\n\n@Injectable()\nexport class UserProvider extends BaseProvider {\n\n  users: FirebaseListObservable<User[]>;\n  currentUser: FirebaseObjectObservable<User>;\n\n  constructor(public http: Http, public db: AngularFireDatabase,\n    @Inject(FirebaseApp) public firebaseApp: any, public authProvider: AuthProvider) {\n    super();\n    this.listenAuthState();\n  }\n\n  private setUsers(uidToExclude: string) {\n    this.users = <FirebaseListObservable<User[]>> this.db.list(`/users`, {\n      query: {\n        orderByChild: 'name'\n      }\n    }).map((users: User[]) => {\n      return users.filter((user: User) => user.$key !== uidToExclude);\n    });\n  }\n\n  private listenAuthState(): void {\n    this.authProvider.user.subscribe((auth) => {\n      if (auth) {\n        this.currentUser = this.db.object(`/users/${auth.uid}`);\n        this.setUsers(auth.uid);\n      }\n    });\n  }\n\n  create(user: User, uid: string): firebase.Promise<void> {\n    return this.db.object(`/users/${uid}`).set(user).catch(this.handlePromiseError);\n  }\n\n  edit(user: {name: string, username: string, photo: string}): firebase.Promise<void> {\n    return this.currentUser.update(user).catch(this.handlePromiseError);\n  }\n\n  userExists(userName: string): Observable<boolean> {\n    return this.db.list(`/users`, {\n      query: {\n        orderByChild: 'username',\n        equalTo: userName\n      }\n    }).map((users: User[]) => {\n      return users.length > 0;\n    }).catch(this.handleObservableError);\n  }\n  \n  get(userId: string): FirebaseObjectObservable<User> {\n    return <FirebaseObjectObservable<User>> this.db.object(`/users/${userId}`)\n      .catch(this.handleObservableError);\n  }\n\n  uploadPhoto(file: File, userId: string): firebase.storage.UploadTask {\n    return this.firebaseApp.storage().ref().child(`/users/${userId}`).put(file);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","export class Chat {\r\n  \r\n  public $key: string\r\n  \r\n  constructor(\r\n    public lastMessage: string,\r\n    public timestamp: any,\r\n    public title: string,\r\n    public photo: string\r\n  ) {\r\n    \r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/chat.ts","import { Component, Input } from '@angular/core';\nimport { App, AlertController, MenuController } from 'ionic-angular';\n\nimport { BaseComponent } from '../base';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { User } from './../../models/user';\n\n@Component({\n  selector: 'custom-logged-header',\n  templateUrl: 'custom-logged-header.html'\n})\nexport class CustomLoggedHeaderComponent extends BaseComponent {\n\n  @Input() user: User;\n  @Input() title: string;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authProvider: AuthProvider,\n    public app: App,\n    public menuCtrl: MenuController\n  ) {\n    super(alertCtrl, authProvider, app, menuCtrl);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/custom-logged-header/custom-logged-header.ts","import { Component, Input } from '@angular/core';\n\nimport { Message } from './../../models/message';\n\n@Component({\n  selector: 'message-box',\n  templateUrl: 'message-box.html',\n  host: {\n    '[style.justify-content]': '(!isFromSender ? \"flex-start\" : \"flex-end\")',\n    '[style.text-align]': '(!isFromSender ? \"left\" : \"right\")'\n  }\n})\nexport class MessageBoxComponent {\n\n  @Input() message: Message;\n  @Input() isFromSender: boolean;\n\n  constructor() {\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message-box/message-box.ts","import { Component, Input } from '@angular/core';\n\nimport { User } from './../../models/user';\n\n@Component({\n  selector: 'user-info',\n  templateUrl: 'user-info.html'\n})\nexport class UserInfoComponent {\n\n  @Input() user: User;\n  @Input() isMenu: boolean = false;\n\n  constructor() {\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-info/user-info.ts","import { AlertController, App, MenuController } from 'ionic-angular';\nimport { Component, Input } from '@angular/core';\n\nimport { User } from './../../models/user';\nimport { BaseComponent } from './../base';\nimport { UserProfilePage } from './../../pages/user-profile/user-profile';\nimport { AuthProvider } from './../../providers/auth/auth';\n\n@Component({\n  selector: 'user-menu',\n  templateUrl: 'user-menu.html'\n})\nexport class UserMenuComponent extends BaseComponent {\n\n  @Input('user') currentUser: User;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authProvider: AuthProvider,\n    public app: App,\n    public menuCtrl: MenuController\n  ) {\n    super(alertCtrl, authProvider, app, menuCtrl);\n  }\n\n  onProfile(): void {\n    this.navCtrl.push(UserProfilePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-menu/user-menu.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n\n  @Input() progress: number;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts"],"sourceRoot":""}